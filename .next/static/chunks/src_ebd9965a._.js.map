{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://F%3A/JewelleryWEBApp/front_end/src/components/Menu.tsx"],"sourcesContent":["'use client'; // This marks it as a client-side component\n\nimport React, { useState, useEffect } from \"react\"; // Importing useState and useEffect hooks from React\nimport { useSession } from \"next-auth/react\"; // Importing the session hook\nimport Link from \"next/link\";\nimport { \n  Home, Users, Tag, ClipboardList, Coins, ShoppingCart, BarChart, CalendarCheck, CreditCard, \n  Bell, UserCircle, Settings, LogOut, Boxes \n} from \"lucide-react\"; // Importing correct icons\n\nconst menuItems = [\n  {\n    title: \"MENU\",\n    items: [\n      { icon: Home, label: \"Home\", href: \"/\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n      { icon: Users, label: \"Store Managers\", href: \"/DashView/list/StoreManager\", visible: [\"Admin\"] }, // Only Admin\n      { icon: Users, label: \"Sales Associates\", href: \"/DashView/list/SalesAssociate\", visible: [\"Admin\", \"Store Manager\"] },\n      { icon: Users, label: \"Cashiers\", href: \"/list/parents\", visible: [\"Admin\"] },\n      { icon: ClipboardList, label: \"Suppliers\", href: \"/DashView/list/Supplier\", visible: [\"Admin\"] }, // Only Admin\n      { icon: ClipboardList, label: \"Orders\", href: \"/list/classes\", visible: [\"Admin\", \"Store Manager\"] },\n      { icon: Boxes, label: \"Jewellery Stock\", href: \"/list/lessons\", visible: [\"Admin\", \"Store Manager\"] },\n      { icon: Coins, label: \"Gold Stock\", href: \"/list/exams\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n      { icon: Tag, label: \"Categories\", href: \"/list/assignments\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n      { icon: ShoppingCart, label: \"Sales\", href: \"/list/results\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n      { icon: BarChart, label: \"Reports\", href: \"/list/attendance\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n      { icon: CalendarCheck, label: \"Events\", href: \"/list/events\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n      { icon: CreditCard, label: \"Advance Payment\", href: \"/list/messages\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n      { icon: Bell, label: \"Notifications\", href: \"/list/announcements\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n    ],\n  },\n  {\n    title: \"OTHER\",\n    items: [\n      { icon: UserCircle, label: \"Profile\", href: \"/profile\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n      { icon: Settings, label: \"Settings\", href: \"/settings\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n      { icon: LogOut, label: \"Logout\", href: \"/logout\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\n    ],\n  },\n];\n\nconst Menu = () => {\n  const [role, setRole] = useState<string | null>(null);\n\n  useEffect(() => {\n    const storedRole = localStorage.getItem(\"role\"); // Get role from localStorage\n    console.log(\"Stored role:\", storedRole); // Log the stored role\n    if (storedRole) {\n      setRole(storedRole);\n    } else {\n      setRole(\"Guest\");\n    }\n  }, []);\n\n  if (!role) {\n    return <div>Loading...</div>; // Show loading while fetching role\n  }\n\n  return (\n    <div className=\"mt-4 text-sm bg-[#FFF6BD] p-4 rounded-md w-64\">\n      {menuItems.map((section) => (\n        <div className=\"flex flex-col gap-2\" key={section.title}>\n          <span className=\"hidden lg:block text-black font-semibold my-4\">\n            {section.title}\n          </span>\n          {section.items.map((item) => {\n            // Check if the user's role is listed in the 'visible' array for this item\n            if (item.visible.includes(role)) {\n              return (\n                <Link\n                  href={item.href}\n                  key={item.label}\n                  className=\"flex items-center justify-start gap-4 text-black py-2 px-4 rounded-md hover:bg-[#F0A500] hover:text-white transition duration-200\"\n                >\n                  <item.icon size={20} className=\"text-black\" />\n                  <span className=\"hidden lg:block\">{item.label}</span>\n                </Link>\n              );\n            }\n            return null; // Don't render items that the user shouldn't see\n          })}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Menu;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file://F%3A/JewelleryWEBApp/front_end/src/app/DashView/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport Menu from \"@/components/Menu\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\n\n// User info component to display name and branch\nconst UserInfo = () => {\n  const [userName, setUserName] = useState<string>(\"\");\n  const [userRole, setUserRole] = useState<string>(\"\");\n  const [branchName, setBranchName] = useState<string>(\"\");\n\n  // Branch mapping function\n  const getBranchNameById = (id: string | null): string => {\n    if (!id) return \"\";\n\n    const branchMap: {[key: string]: string} = {\n      \"1\": \"Mahiyanganaya Branch\",\n      \"2\": \"Mahaoya Branch\"\n    };\n\n    return branchMap[id] || `Branch ${id}`;\n  };\n\n  useEffect(() => {\n    // Get user info from localStorage\n    const storedName = localStorage.getItem(\"userName\");\n    const storedRole = localStorage.getItem(\"role\");\n    const storedBranch = localStorage.getItem(\"branchName\");\n    const storedBranchId = localStorage.getItem(\"branchId\");\n\n    if (storedName) setUserName(storedName);\n    if (storedRole) setUserRole(storedRole);\n\n    // Use stored branch name if available, otherwise use the branch ID mapping\n    if (storedBranch) {\n      setBranchName(storedBranch);\n    } else if (storedBranchId) {\n      setBranchName(getBranchNameById(storedBranchId));\n    }\n  }, []);\n\n  if (!userName && !userRole) return null;\n\n  // Debug localStorage values - only run on client side\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      console.log(\"UserInfo - localStorage values:\");\n      console.log(\"userName:\", localStorage.getItem(\"userName\"));\n      console.log(\"role:\", localStorage.getItem(\"role\"));\n      console.log(\"branchName:\", localStorage.getItem(\"branchName\"));\n      console.log(\"branchId:\", localStorage.getItem(\"branchId\"));\n    }\n  }, []);\n\n  return (\n    <div className=\"mt-4 p-3 bg-white rounded-lg shadow-sm\">\n      <div className=\"flex items-center space-x-3\">\n        <div className=\"w-10 h-10 rounded-full bg-[#F0A500] flex items-center justify-center\">\n          <span className=\"text-white font-bold\">\n            {userName ? userName.charAt(0) : \"U\"}\n          </span>\n        </div>\n        <div>\n          <p className=\"font-medium text-sm\">{userName || \"User\"}</p>\n          <p className=\"text-xs text-gray-500\">{userRole || \"Guest\"}</p>\n\n          {/* Always show branch section for Store Managers, with fallback text if no branch */}\n          {userRole === \"Store Manager\" && (\n            <div className=\"mt-1 p-1 bg-blue-50 rounded border border-blue-200\">\n              <p className=\"text-xs font-medium text-blue-700\">\n                {branchName ? `Managing: ${branchName}` : \"No branch assigned\"}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Main layout component\nexport default function DashboardLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <div className=\"h-screen flex bg-white\">\n      {/* LEFT - Scrollable Menu */}\n      <div className=\"w-[14%] md:w-[8%] lg:w-[16%] xl:w-[20%] p-4 bg-[#FFE569] h-screen overflow-y-auto\">\n        <Link\n          href=\"/\"\n          className=\"flex items-center justify-center lg:justify-start gap-2\"\n        >\n          <Image src=\"/logo.png\" alt=\"logo\" width={32} height={80} />\n          <span className=\"hidden lg:block font-bold text-black\">\n            S Lanka Jewellery\n          </span>\n        </Link>\n\n        {/* User info component */}\n        <UserInfo />\n\n        <Menu />\n      </div>\n\n      {/* RIGHT - Main Content */}\n      <div className=\"w-[86%] md:w-[92%] lg:w-[84%] xl:w-[80%] bg-white overflow-y-auto flex flex-col p-6\">\n        {children}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOA,iDAAiD;AACjD,MAAM,WAAW;;IACf,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAErD,0BAA0B;IAC1B,MAAM,oBAAoB,CAAC;QACzB,IAAI,CAAC,IAAI,OAAO;QAEhB,MAAM,YAAqC;YACzC,KAAK;YACL,KAAK;QACP;QAEA,OAAO,SAAS,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,IAAI;IACxC;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR,kCAAkC;YAClC,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,MAAM,iBAAiB,aAAa,OAAO,CAAC;YAE5C,IAAI,YAAY,YAAY;YAC5B,IAAI,YAAY,YAAY;YAE5B,2EAA2E;YAC3E,IAAI,cAAc;gBAChB,cAAc;YAChB,OAAO,IAAI,gBAAgB;gBACzB,cAAc,kBAAkB;YAClC;QACF;6BAAG,EAAE;IAEL,IAAI,CAAC,YAAY,CAAC,UAAU,OAAO;IAEnC,sDAAsD;IACtD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR,wCAAmC;gBACjC,QAAQ,GAAG,CAAC;gBACZ,QAAQ,GAAG,CAAC,aAAa,aAAa,OAAO,CAAC;gBAC9C,QAAQ,GAAG,CAAC,SAAS,aAAa,OAAO,CAAC;gBAC1C,QAAQ,GAAG,CAAC,eAAe,aAAa,OAAO,CAAC;gBAChD,QAAQ,GAAG,CAAC,aAAa,aAAa,OAAO,CAAC;YAChD;QACF;6BAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAK,WAAU;kCACb,WAAW,SAAS,MAAM,CAAC,KAAK;;;;;;;;;;;8BAGrC,6LAAC;;sCACC,6LAAC;4BAAE,WAAU;sCAAuB,YAAY;;;;;;sCAChD,6LAAC;4BAAE,WAAU;sCAAyB,YAAY;;;;;;wBAGjD,aAAa,iCACZ,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAE,WAAU;0CACV,aAAa,CAAC,UAAU,EAAE,YAAY,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1D;GAxEM;KAAA;AA2ES,SAAS,gBAAgB,EACtC,QAAQ,EAGR;IACA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,6LAAC,gIAAA,CAAA,UAAK;gCAAC,KAAI;gCAAY,KAAI;gCAAO,OAAO;gCAAI,QAAQ;;;;;;0CACrD,6LAAC;gCAAK,WAAU;0CAAuC;;;;;;;;;;;;kCAMzD,6LAAC;;;;;kCAED,6LAAC,6HAAA,CAAA,UAAI;;;;;;;;;;;0BAIP,6LAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT;MA/BwB","debugId":null}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}