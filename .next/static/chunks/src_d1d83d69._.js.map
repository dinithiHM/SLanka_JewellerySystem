{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/components/TableSearch.tsx"],"sourcesContent":["import Image from \"next/image\";\n\nconst TableSearch = () => {\n  return (\n    <div className=\"w-full md:w-auto flex items-center gap-2 text-xs rounded-full ring-[1.5px] ring-[-#FFF6BD]-300 px-2\">\n      <Image src=\"/search.png\" alt=\"\" width={14} height={14} />\n      <input\n        type=\"text\"\n        placeholder=\"Search...\"\n        className=\"w-[200px] p-2 bg-transparent outline-none\"\n      />\n    </div>\n  );\n};\n\nexport default TableSearch;\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,MAAM,cAAc;IAClB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,gIAAA,CAAA,UAAK;gBAAC,KAAI;gBAAc,KAAI;gBAAG,OAAO;gBAAI,QAAQ;;;;;;0BACnD,6LAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,WAAU;;;;;;;;;;;;AAIlB;KAXM;uCAaS","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/components/Pagination.tsx"],"sourcesContent":["const Pagination = () => {\n  return (\n    <div className=\"p-4 flex items-center justify-between text-gray-500\">\n      <button\n        disabled\n        className=\"py-2 px-4 rounded-md bg-slate-200 text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed\"\n      >\n        Prev\n      </button>\n      <div className=\"flex items-center gap-2 text-sm\">\n        <button className=\"px-2 rounded-sm bg--#FFF6BD\">1</button>\n        <button className=\"px-2 rounded-sm \">2</button>\n        <button className=\"px-2 rounded-sm \">3</button>\n        ...\n        <button className=\"px-2 rounded-sm \">10</button>\n      </div>\n      <button className=\"py-2 px-4 rounded-md bg-slate-200 text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed\">\n        Next\n      </button>\n    </div>\n  );\n};\n\nexport default Pagination;\n"],"names":[],"mappings":";;;;;AAAA,MAAM,aAAa;IACjB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,QAAQ;gBACR,WAAU;0BACX;;;;;;0BAGD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAO,WAAU;kCAA8B;;;;;;kCAChD,6LAAC;wBAAO,WAAU;kCAAmB;;;;;;kCACrC,6LAAC;wBAAO,WAAU;kCAAmB;;;;;;oBAAU;kCAE/C,6LAAC;wBAAO,WAAU;kCAAmB;;;;;;;;;;;;0BAEvC,6LAAC;gBAAO,WAAU;0BAA0G;;;;;;;;;;;;AAKlI;KArBM;uCAuBS","debugId":null}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/components/Table.tsx"],"sourcesContent":["const Table = ({\n  columns,\n  renderRow,\n  data,\n}: {\n  columns: { header: string; accessor: string; className?: string }[];\n  renderRow: (item: any) => React.ReactNode;\n  data: any[];\n}) => {\n  return (\n    <table className=\"w-full mt-4\">\n      <thead>\n        <tr className=\"text-left text-black-500 text-sm\">\n          {columns.map((col) => (\n            <th key={col.accessor} className={col.className}>{col.header}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>{data.map((item) => renderRow(item))}</tbody>\n    </table>\n  );\n};\n\nexport default Table;\n"],"names":[],"mappings":";;;;;AAAA,MAAM,QAAQ,CAAC,EACb,OAAO,EACP,SAAS,EACT,IAAI,EAKL;IACC,qBACE,6LAAC;QAAM,WAAU;;0BACf,6LAAC;0BACC,cAAA,6LAAC;oBAAG,WAAU;8BACX,QAAQ,GAAG,CAAC,CAAC,oBACZ,6LAAC;4BAAsB,WAAW,IAAI,SAAS;sCAAG,IAAI,MAAM;2BAAnD,IAAI,QAAQ;;;;;;;;;;;;;;;0BAI3B,6LAAC;0BAAO,KAAK,GAAG,CAAC,CAAC,OAAS,UAAU;;;;;;;;;;;;AAG3C;KArBM;uCAuBS","debugId":null}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/components/DeleteConfirmationModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { useState } from \"react\";\r\n\r\ninterface DeleteConfirmationModalProps {\r\n  itemName: string;\r\n  onDelete: () => Promise<void>;\r\n}\r\n\r\nconst DeleteConfirmationModal: React.FC<DeleteConfirmationModalProps> = ({ \r\n  itemName, \r\n  onDelete \r\n}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  const handleDeleteConfirm = async () => {\r\n    if (onDelete) {\r\n      try {\r\n        setIsDeleting(true);\r\n        await onDelete();\r\n        setOpen(false);\r\n      } catch (error) {\r\n        console.error(\"Error deleting:\", error);\r\n        alert(\"Failed to delete. Please try again.\");\r\n      } finally {\r\n        setIsDeleting(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        className=\"w-7 h-7 flex items-center justify-center rounded-full bg-[#FFF6BD]\"\r\n        onClick={() => setOpen(true)}\r\n      >\r\n        <Image src=\"/delete.png\" alt=\"Delete\" width={16} height={16} />\r\n      </button>\r\n      \r\n      {open && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center\">\r\n          <div className=\"bg-white p-6 rounded-md relative w-[90%] max-w-md\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Confirm Deletion</h2>\r\n            \r\n            <p className=\"mb-6\">\r\n              Are you sure you want to delete this person?\r\n              {itemName && <span className=\"font-semibold block mt-2\">{itemName}</span>}\r\n            </p>\r\n            \r\n            <div className=\"flex justify-end gap-4\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setOpen(false)}\r\n                className=\"px-4 py-2 bg-gray-300 text-gray-800 rounded-md\"\r\n                disabled={isDeleting}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleDeleteConfirm}\r\n                className=\"px-4 py-2 bg-red-600 text-white rounded-md\"\r\n                disabled={isDeleting}\r\n              >\r\n                {isDeleting ? \"Deleting...\" : \"Delete\"}\r\n              </button>\r\n            </div>\r\n            \r\n            <button\r\n              className=\"absolute top-4 right-4 cursor-pointer\"\r\n              onClick={() => setOpen(false)}\r\n            >\r\n              <Image src=\"/close.png\" alt=\"Close\" width={14} height={14} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DeleteConfirmationModal;"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAUA,MAAM,0BAAkE,CAAC,EACvE,QAAQ,EACR,QAAQ,EACT;;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,sBAAsB;QAC1B,IAAI,UAAU;YACZ,IAAI;gBACF,cAAc;gBACd,MAAM;gBACN,QAAQ;YACV,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,mBAAmB;gBACjC,MAAM;YACR,SAAU;gBACR,cAAc;YAChB;QACF;IACF;IAEA,qBACE;;0BACE,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,QAAQ;0BAEvB,cAAA,6LAAC,gIAAA,CAAA,UAAK;oBAAC,KAAI;oBAAc,KAAI;oBAAS,OAAO;oBAAI,QAAQ;;;;;;;;;;;YAG1D,sBACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAyB;;;;;;sCAEvC,6LAAC;4BAAE,WAAU;;gCAAO;gCAEjB,0BAAY,6LAAC;oCAAK,WAAU;8CAA4B;;;;;;;;;;;;sCAG3D,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,MAAK;oCACL,SAAS,IAAM,QAAQ;oCACvB,WAAU;oCACV,UAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,MAAK;oCACL,SAAS;oCACT,WAAU;oCACV,UAAU;8CAET,aAAa,gBAAgB;;;;;;;;;;;;sCAIlC,6LAAC;4BACC,WAAU;4BACV,SAAS,IAAM,QAAQ;sCAEvB,cAAA,6LAAC,gIAAA,CAAA,UAAK;gCAAC,KAAI;gCAAa,KAAI;gCAAQ,OAAO;gCAAI,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;AAOrE;GAvEM;KAAA;uCAyES","debugId":null}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/components/forms/CategoryForm.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\n\n// Define the form schema with Zod\nconst schema = z.object({\n  category_name: z.string().min(1, { message: \"Category name is required\" }),\n  description: z.string().optional(),\n});\n\ntype FormInputs = z.infer<typeof schema>;\n\ninterface CategoryFormProps {\n  type: \"create\" | \"update\" | \"view\";\n  data?: {\n    category_id?: number;\n    category_name?: string;\n    description?: string | null;\n  } | null;\n  onSuccess: () => void;\n  onCancel: () => void;\n}\n\nconst CategoryForm = ({ type, data, onSuccess, onCancel }: CategoryFormProps) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const { language } = useLanguage();\n\n  // Initialize form with react-hook-form\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<FormInputs>({\n    resolver: zodResolver(schema),\n    defaultValues: {\n      category_name: data?.category_name || \"\",\n      description: data?.description || \"\",\n    },\n  });\n\n  // Handle form submission\n  const onSubmit = async (formData: FormInputs) => {\n    setIsSubmitting(true);\n    setError(null);\n\n    try {\n      const url = type === \"create\"\n        ? \"http://localhost:3002/admin/add_category\"\n        : `http://localhost:3002/admin/edit_category/${data?.category_id}`;\n\n      const method = type === \"create\" ? \"POST\" : \"PUT\";\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to ${type} category: ${response.status}`);\n      }\n\n      const responseData = await response.json();\n      if (responseData.Status) {\n        onSuccess();\n      } else {\n        throw new Error(responseData.Error || `Failed to ${type} category`);\n      }\n    } catch (err: any) {\n      setError(err.message);\n      console.error(`Error ${type === \"create\" ? \"creating\" : \"updating\"} category:`, err);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // If in view mode, render a read-only view\n  if (type === \"view\") {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex justify-between items-center\">\n          <h2 className=\"text-xl font-semibold\">\n            {language === \"ta\" ? \"வகை விவரங்கள்\" : \"Category Details\"}\n          </h2>\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            className=\"text-gray-500 hover:text-gray-700\"\n          >\n            ✕\n          </button>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-700 mb-1\">\n              {language === \"ta\" ? \"வகை ஐடி\" : \"Category ID\"}\n            </h3>\n            <p className=\"p-2 bg-gray-50 rounded-md\">{data?.category_id}</p>\n          </div>\n\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-700 mb-1\">\n              {language === \"ta\" ? \"வகை பெயர்\" : \"Category Name\"}\n            </h3>\n            <p className=\"p-2 bg-gray-50 rounded-md\">{data?.category_name}</p>\n          </div>\n\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-700 mb-1\">\n              {language === \"ta\" ? \"விளக்கம்\" : \"Description\"}\n            </h3>\n            <p className=\"p-2 bg-gray-50 rounded-md min-h-[80px]\">\n              {data?.description || \"-\"}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end pt-4\">\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n          >\n            {language === \"ta\" ? \"மூடு\" : \"Close\"}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // For create and update modes, render the form\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-xl font-semibold\">\n          {type === \"create\"\n            ? language === \"ta\" ? \"புதிய வகை உருவாக்கம்\" : \"Create New Category\"\n            : language === \"ta\" ? \"வகை விவரங்களைத் திருத்து\" : \"Edit Category Details\"}\n        </h2>\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"text-gray-500 hover:text-gray-700\"\n        >\n          ✕\n        </button>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-50 text-red-500 p-3 rounded-md text-sm\">\n          {error}\n        </div>\n      )}\n\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            {language === \"ta\" ? \"வகை பெயர்\" : \"Category Name\"}*\n          </label>\n          <input\n            type=\"text\"\n            {...register(\"category_name\")}\n            className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-yellow-500 focus:border-yellow-500\"\n          />\n          {errors.category_name && (\n            <p className=\"mt-1 text-sm text-red-500\">\n              {errors.category_name.message}\n            </p>\n          )}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            {language === \"ta\" ? \"விளக்கம்\" : \"Description\"}\n          </label>\n          <textarea\n            {...register(\"description\")}\n            rows={4}\n            className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-yellow-500 focus:border-yellow-500\"\n          />\n          {errors.description && (\n            <p className=\"mt-1 text-sm text-red-500\">\n              {errors.description.message}\n            </p>\n          )}\n        </div>\n      </div>\n\n      <div className=\"flex justify-end space-x-3 pt-4\">\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n          disabled={isSubmitting}\n        >\n          {language === \"ta\" ? \"ரத்து செய்\" : \"Cancel\"}\n        </button>\n        <button\n          type=\"submit\"\n          className=\"px-4 py-2 bg-lamaYellow text-black rounded-md hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500\"\n          disabled={isSubmitting}\n        >\n          {isSubmitting ? (\n            <span>{language === \"ta\" ? \"சமர்ப்பிக்கிறது...\" : \"Submitting...\"}</span>\n          ) : (\n            <span>\n              {type === \"create\"\n                ? language === \"ta\" ? \"உருவாக்கு\" : \"Create\"\n                : language === \"ta\" ? \"புதுப்பி\" : \"Update\"}\n            </span>\n          )}\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default CategoryForm;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 743, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 749, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/app/list/categories/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport TableSearch from \"@/components/TableSearch\";\nimport Pagination from \"@/components/Pagination\";\nimport Table from \"@/components/Table\";\nimport DeleteConfirmationModal from \"@/components/DeleteConfirmationModal\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\nimport CategoryForm from \"@/components/forms/CategoryForm\";\n\n// Interface for Category\ninterface Category {\n  category_id: number;\n  category_name: string;\n  description: string | null;\n  action?: string; // Optional property for actions\n}\n\n// Interface for column definition\ninterface Column {\n  header: string;\n  accessor: keyof Category;\n  className?: string;\n}\n\nconst columns: Column[] = [\n  { header: \"ID\", accessor: \"category_id\", className: \"w-16\" },\n  { header: \"Category Name\", accessor: \"category_name\" },\n  { header: \"Description\", accessor: \"description\", className: \"hidden md:table-cell\" },\n  { header: \"Actions\", accessor: \"action\" }\n];\n\nconst CategoriesPage = () => {\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [userRole, setUserRole] = useState<string>(\"\");\n  const [showForm, setShowForm] = useState(false);\n  const [formType, setFormType] = useState<\"create\" | \"update\">(\"create\");\n  const [selectedCategory, setSelectedCategory] = useState<Category | null>(null);\n  const { language } = useLanguage();\n\n  // Fetch categories from the server\n  const fetchCategories = async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"http://localhost:3002/admin/category\");\n      if (!response.ok) {\n        throw new Error(`Failed to fetch categories: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.Status) {\n        setCategories(data.Result);\n      } else {\n        throw new Error(data.Error || \"Failed to fetch categories\");\n      }\n    } catch (err: any) {\n      setError(err.message);\n      console.error(\"Error fetching categories:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Get user role from localStorage\n  useEffect(() => {\n    const storedRole = localStorage.getItem(\"userRole\");\n    if (storedRole) {\n      setUserRole(storedRole);\n    }\n    fetchCategories();\n  }, []);\n\n  // Handle category deletion\n  const handleDelete = async (id: number) => {\n    try {\n      const response = await fetch(`http://localhost:3002/admin/delete_category/${id}`, {\n        method: \"DELETE\",\n      });\n      \n      if (!response.ok) {\n        throw new Error(`Failed to delete category: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      if (data.Status) {\n        // Refresh the categories list\n        fetchCategories();\n      } else {\n        throw new Error(data.Error || \"Failed to delete category\");\n      }\n    } catch (err: any) {\n      setError(err.message);\n      console.error(\"Error deleting category:\", err);\n    }\n  };\n\n  // Handle edit button click\n  const handleEdit = (category: Category) => {\n    setSelectedCategory(category);\n    setFormType(\"update\");\n    setShowForm(true);\n  };\n\n  // Handle form submission success\n  const handleFormSuccess = () => {\n    setShowForm(false);\n    setSelectedCategory(null);\n    fetchCategories();\n  };\n\n  // Render table row for each category\n  const renderRow = (category: Category) => (\n    <tr key={category.category_id} className=\"border-b border-gray-100\">\n      <td className=\"py-3\">{category.category_id}</td>\n      <td className=\"py-3\">{category.category_name}</td>\n      <td className=\"py-3 hidden md:table-cell\">{category.description || \"-\"}</td>\n      <td className=\"py-3\">\n        <div className=\"flex items-center gap-2\">\n          <button\n            className=\"w-7 h-7 flex items-center justify-center rounded-full bg-[#FFF6BD]\"\n            title=\"Edit category\"\n            onClick={() => handleEdit(category)}\n          >\n            <Image src=\"/edit.png\" alt=\"Edit\" width={16} height={16} />\n          </button>\n\n          {(userRole.toLowerCase() === \"admin\" || userRole.toLowerCase() === \"store manager\") && (\n            <DeleteConfirmationModal\n              itemName={category.category_name}\n              onDelete={() => handleDelete(category.category_id)}\n            />\n          )}\n        </div>\n      </td>\n    </tr>\n  );\n\n  if (isLoading) return <div className=\"p-4\">Loading...</div>;\n  if (error) return <div className=\"p-4 text-red-500\">Error: {error}</div>;\n\n  return (\n    <div className=\"bg-white p-4 rounded-md flex-1 m-4 mt-0\">\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"hidden md:block text-lg font-semibold\">\n          {language === 'ta' ? 'வகைகள்' : 'Categories'}\n        </h1>\n        <div className=\"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto\">\n          <TableSearch />\n          <div className=\"flex items-center gap-4 self-end\">\n            <button className=\"w-8 h-8 flex items-center justify-center rounded-full bg-[#FFF6BD]\">\n              <Image src=\"/filter.png\" alt=\"Filter\" width={14} height={14} />\n            </button>\n            <button className=\"w-8 h-8 flex items-center justify-center rounded-full bg-lamaYellow\">\n              <Image src=\"/sort.png\" alt=\"Sort\" width={14} height={14} />\n            </button>\n            {(userRole.toLowerCase() === \"admin\" || userRole.toLowerCase() === \"store manager\") && (\n              <button\n                className=\"bg-lamaYellow text-black px-4 py-2 rounded-md text-sm font-medium\"\n                onClick={() => {\n                  setFormType(\"create\");\n                  setSelectedCategory(null);\n                  setShowForm(true);\n                }}\n              >\n                {language === 'ta' ? 'புதிய வகை' : 'New Category'}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {categories.length === 0 ? (\n        <div className=\"text-center py-8\">\n          <p className=\"text-gray-500\">No categories found</p>\n        </div>\n      ) : (\n        <>\n          <Table\n            columns={columns}\n            data={categories}\n            renderRow={renderRow}\n          />\n          <Pagination />\n        </>\n      )}\n\n      {showForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <CategoryForm\n              type={formType}\n              data={selectedCategory}\n              onSuccess={handleFormSuccess}\n              onCancel={() => {\n                setShowForm(false);\n                setSelectedCategory(null);\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CategoriesPage;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1130, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}