{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/components/Menu.tsx"],"sourcesContent":["'use client'; // This marks it as a client-side component\r\n\r\nimport React, { useState, useEffect } from \"react\"; // Importing useState and useEffect hooks from React\r\n// import { useSession } from \"next-auth/react\"; // Importing the session hook\r\nimport Link from \"next/link\";\r\nimport {\r\n  Home, Users, Tag, ClipboardList, Coins, ShoppingCart, BarChart, CalendarCheck, CreditCard,\r\n  Bell, UserCircle, Settings, LogOut, Boxes, Package, FileText\r\n} from \"lucide-react\"; // Importing correct icons\r\nimport { useLanguage } from \"@/contexts/LanguageContext\";\r\n\r\nconst menuItems = [\r\n  {\r\n    title: \"MENU\",\r\n    items: [\r\n      { icon: Home, label: \"Home\", href: \"/\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n      { icon: Users, label: \"Store Managers\", href: \"/DashView/list/StoreManager\", visible: [\"Admin\"] }, // Only Admin\r\n      { icon: Users, label: \"Sales Associates\", href: \"/DashView/list/SalesAssociate\", visible: [\"Admin\", \"Store Manager\"] },\r\n      { icon: Users, label: \"Cashiers\", href: \"/DashView/list/cashier\", visible: [\"Admin\", \"Store Manager\"] },\r\n      { icon: ClipboardList, label: \"Suppliers\", href: \"/DashView/list/Supplier\", visible: [\"Admin\"] }, // Only Admin\r\n      { icon: BarChart, label: \"Supplier Details\", href: \"/DashView/supplier-details\", visible: [\"Admin\", \"Store Manager\"] },\r\n      { icon: ClipboardList, label: \"Orders\", href: \"/DashView/orders\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n      { icon: Boxes, label: \"Jewellery Stock\", href: \"/DashView/jewellery-stock\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\"] },\r\n      { icon: FileText, label: \"Assay Reports\", href: \"/DashView/assay-reports\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\"] },\r\n      { icon: Coins, label: \"Gold Stock\", href: \"/DashView/gold-stock\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n      { icon: Tag, label: \"Categories\", href: \"/DashView/categories\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n      { icon: ShoppingCart, label: \"Sales\", href: \"/DashView/sales/manage\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n      { icon: BarChart, label: \"Reports\", href: \"/list/attendance\", visible: [\"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n      { icon: BarChart, label: \"Sales Report\", href: \"/DashView/admin/sales-report\", visible: [\"Admin\"] },\r\n      { icon: CalendarCheck, label: \"Events\", href: \"/list/events\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n      { icon: CreditCard, label: \"Advance Payment\", href: \"/DashView/advance-payment\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n      { icon: Package, label: \"Custom Orders\", href: \"/DashView/custom-orders\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\"] },\r\n      { icon: Bell, label: \"Notifications\", href: \"/list/notifications\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n    ],\r\n  },\r\n  {\r\n    title: \"OTHER\",\r\n    items: [\r\n      { icon: UserCircle, label: \"Profile\", href: \"/profile\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n      { icon: Settings, label: \"Settings\", href: \"/settings\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n      { icon: LogOut, label: \"Logout\", href: \"/logout\", visible: [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"] },\r\n    ],\r\n  },\r\n];\r\n\r\nconst Menu = () => {\r\n  // Using the language context for translations\r\n  const { language } = useLanguage(); // Use language context to trigger re-renders when language changes\r\n  const [role, setRole] = useState<string | null>(null);\r\n  const [translations, setTranslations] = useState<Record<string, string>>({});\r\n\r\n  // Create a mapping of menu items to their translations\r\n  useEffect(() => {\r\n    const menuTranslations: Record<string, string> = {\r\n      'Home': language === 'ta' ? 'முகப்பு' : 'Home',\r\n      'Store Managers': language === 'ta' ? 'கடை மேலாளர்கள்' : 'Store Managers',\r\n      'Sales Associates': language === 'ta' ? 'விற்பனை சகாக்கள்' : 'Sales Associates',\r\n      'Cashiers': language === 'ta' ? 'காசாளர்கள்' : 'Cashiers',\r\n      'Suppliers': language === 'ta' ? 'விநியோகஸ்தர்கள்' : 'Suppliers',\r\n      'Supplier Details': language === 'ta' ? 'விநியோகஸ்தர் விவரங்கள்' : 'Supplier Details',\r\n      'Orders': language === 'ta' ? 'ஆர்டர்கள்' : 'Orders',\r\n      'Jewellery Stock': language === 'ta' ? 'நகை இருப்பு' : 'Jewellery Stock',\r\n      'Gold Stock': language === 'ta' ? 'தங்க இருப்பு' : 'Gold Stock',\r\n      'Categories': language === 'ta' ? 'வகைகள்' : 'Categories',\r\n      'Sales': language === 'ta' ? 'விற்பனைகள்' : 'Sales',\r\n      'Reports': language === 'ta' ? 'அறிக்கைகள்' : 'Reports',\r\n      'Sales Report': language === 'ta' ? 'விற்பனை அறிக்கை' : 'Sales Report',\r\n      'Events': language === 'ta' ? 'நிகழ்வுகள்' : 'Events',\r\n      'Advance Payment': language === 'ta' ? 'முன்பணம்' : 'Advance Payment',\r\n      'Custom Orders': language === 'ta' ? 'தனிப்பயன் ஆர்டர்கள்' : 'Custom Orders',\r\n      'Notifications': language === 'ta' ? 'அறிவிப்புகள்' : 'Notifications',\r\n      'Profile': language === 'ta' ? 'சுயவிவரம்' : 'Profile',\r\n      'Settings': language === 'ta' ? 'அமைப்புகள்' : 'Settings',\r\n      'Logout': language === 'ta' ? 'வெளியேறு' : 'Logout',\r\n      'MENU': language === 'ta' ? 'பட்டி' : 'MENU',\r\n      'OTHER': language === 'ta' ? 'மற்றவை' : 'OTHER'\r\n    };\r\n\r\n    setTranslations(menuTranslations);\r\n  }, [language]);\r\n\r\n  useEffect(() => {\r\n    const storedRole = localStorage.getItem(\"role\"); // Get role from localStorage\r\n    console.log(\"Stored role:\", storedRole); // Log the stored role\r\n    if (storedRole) {\r\n      setRole(storedRole);\r\n    } else {\r\n      setRole(\"Guest\");\r\n    }\r\n  }, []);\r\n\r\n  if (!role) {\r\n    return <div>Loading...</div>; // Show loading while fetching role\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-4 text-sm bg-[#FFF6BD] p-4 rounded-md w-64\">\r\n      {menuItems.map((section) => (\r\n        <div className=\"flex flex-col gap-2\" key={section.title}>\r\n          <span className=\"hidden lg:block text-black font-semibold my-4\">\r\n            {translations[section.title] || section.title}\r\n          </span>\r\n          {section.items.map((item) => {\r\n            // Check if the user's role is listed in the 'visible' array for this item\r\n            if (item.visible.includes(role)) {\r\n              return (\r\n                <Link\r\n                  href={item.href}\r\n                  key={item.label}\r\n                  className=\"flex items-center justify-start gap-4 text-black py-2 px-4 rounded-md hover:bg-[#F0A500] hover:text-white transition duration-200\"\r\n                >\r\n                  <item.icon size={20} className=\"text-black\" />\r\n                  <span className=\"hidden lg:block\">\r\n                    {translations[item.label] || item.label}\r\n                  </span>\r\n                </Link>\r\n              );\r\n            }\r\n            return null; // Don't render items that the user shouldn't see\r\n          })}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/components/LanguageSelector.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useLanguage, t } from '@/contexts/LanguageContext';\nimport { MdLanguage } from 'react-icons/md';\n\nconst LanguageSelector: React.FC = () => {\n  const { language, setLanguage, translations } = useLanguage();\n\n  return (\n    <div className=\"relative inline-block text-left\">\n      <div className=\"flex items-center gap-2 px-3 py-2 rounded-md bg-yellow-100 hover:bg-yellow-200 cursor-pointer border border-yellow-300\">\n        <MdLanguage size={20} className=\"text-yellow-800\" />\n        <select\n          value={language}\n          onChange={(e) => setLanguage(e.target.value as 'en' | 'ta')}\n          className=\"bg-transparent border-none outline-none text-yellow-800 cursor-pointer font-medium\"\n          title=\"Select Language / மொழியைத் தேர்ந்தெடுக்கவும்\"\n        >\n          <option value=\"en\">{t('language.english')}</option>\n          <option value=\"ta\">{t('language.tamil')}</option>\n        </select>\n      </div>\n    </div>\n  );\n};\n\nexport default LanguageSelector;\n"],"names":[],"mappings":";;;;AAGA;AACA;;;AAJA;;;AAMA,MAAM,mBAA6B;;IACjC,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,sIAAA,CAAA,cAAW,AAAD;IAE1D,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,iJAAA,CAAA,aAAU;oBAAC,MAAM;oBAAI,WAAU;;;;;;8BAChC,6LAAC;oBACC,OAAO;oBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oBAC3C,WAAU;oBACV,OAAM;;sCAEN,6LAAC;4BAAO,OAAM;sCAAM,CAAA,GAAA,sIAAA,CAAA,IAAC,AAAD,EAAE;;;;;;sCACtB,6LAAC;4BAAO,OAAM;sCAAM,CAAA,GAAA,sIAAA,CAAA,IAAC,AAAD,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAKhC;GAnBM;;QAC4C,sIAAA,CAAA,cAAW;;;KADvD;uCAqBS","debugId":null}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 480, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/components/TranslationProvider.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useLanguage } from '@/contexts/LanguageContext';\n\n/**\n * A client component that provides language context to its children\n * Use this to wrap server components that need to be translated\n */\nconst TranslationProvider: React.FC<{ children: React.ReactNode }> = ({ \n  children \n}) => {\n  // Use language context to trigger re-renders when language changes\n  useLanguage();\n  \n  return <>{children}</>;\n};\n\nexport default TranslationProvider;\n"],"names":[],"mappings":";;;;AAGA;;;AAHA;;AAKA;;;CAGC,GACD,MAAM,sBAA+D,CAAC,EACpE,QAAQ,EACT;;IACC,mEAAmE;IACnE,CAAA,GAAA,sIAAA,CAAA,cAAW,AAAD;IAEV,qBAAO;kBAAG;;AACZ;GAPM;;QAIJ,sIAAA,CAAA,cAAW;;;KAJP;uCASS","debugId":null}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 518, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/components/TranslatedText.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { t, useLanguage } from '@/contexts/LanguageContext';\n\ninterface TranslatedTextProps {\n  textKey: string;\n  fallback?: string;\n  className?: string;\n}\n\n/**\n * A component that displays translated text based on the current language\n */\nconst TranslatedText: React.FC<TranslatedTextProps> = ({ \n  textKey, \n  fallback, \n  className \n}) => {\n  // Use language context to trigger re-renders when language changes\n  useLanguage();\n  \n  return (\n    <span className={className}>\n      {t(textKey) || fallback || textKey}\n    </span>\n  );\n};\n\nexport default TranslatedText;\n"],"names":[],"mappings":";;;;AAGA;;;AAHA;;AAWA;;CAEC,GACD,MAAM,iBAAgD,CAAC,EACrD,OAAO,EACP,QAAQ,EACR,SAAS,EACV;;IACC,mEAAmE;IACnE,CAAA,GAAA,sIAAA,CAAA,cAAW,AAAD;IAEV,qBACE,6LAAC;QAAK,WAAW;kBACd,CAAA,GAAA,sIAAA,CAAA,IAAC,AAAD,EAAE,YAAY,YAAY;;;;;;AAGjC;GAbM;;QAMJ,sIAAA,CAAA,cAAW;;;KANP;uCAeS","debugId":null}},
    {"offset": {"line": 554, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 560, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/components/ProtectedRoute.tsx"],"sourcesContent":["'use client';\n\nimport React, { ReactNode, useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\n\ninterface ProtectedRouteProps {\n  children: ReactNode;\n  allowedRoles: string[];\n}\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({\n  children,\n  allowedRoles\n}) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userRole, setUserRole] = useState<string | null>(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    // Check authentication from localStorage\n    const checkAuth = () => {\n      const userInfo = localStorage.getItem('userInfo');\n      const token = localStorage.getItem('token');\n      const role = localStorage.getItem('role');\n\n      if (userInfo && token && role) {\n        try {\n          const userData = JSON.parse(userInfo);\n          setUserRole(userData.role || role);\n          setIsAuthenticated(true);\n        } catch (error) {\n          console.error('Error parsing user data:', error);\n          // Fallback to role from localStorage\n          if (role) {\n            setUserRole(role);\n            setIsAuthenticated(true);\n          } else {\n            setIsAuthenticated(false);\n          }\n        }\n      } else {\n        setIsAuthenticated(false);\n      }\n\n      setIsLoading(false);\n    };\n\n    checkAuth();\n  }, []);\n\n  useEffect(() => {\n    // Wait until auth state is loaded\n    if (!isLoading) {\n      // If not authenticated, redirect to login\n      if (!isAuthenticated) {\n        router.push('/login');\n      }\n      // If authenticated but not authorized for this route\n      else if (!checkAccess(allowedRoles)) {\n        router.push('/unauthorized');\n      }\n    }\n  }, [isLoading, isAuthenticated, allowedRoles, router]);\n\n  // Check if the user has access to a route based on their role\n  const checkAccess = (allowedRoles: string[]): boolean => {\n    if (!userRole) return false;\n    return allowedRoles.some(role =>\n      userRole.toLowerCase() === role.toLowerCase()\n    );\n  };\n\n  // Show loading state while checking authentication\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-500\"></div>\n      </div>\n    );\n  }\n\n  // If not authenticated or not authorized, don't render children\n  if (!isAuthenticated || !checkAccess(allowedRoles)) {\n    return null;\n  }\n\n  // If authenticated and authorized, render children\n  return <>{children}</>;\n};\n\nexport default ProtectedRoute;\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAUA,MAAM,iBAAgD,CAAC,EACrD,QAAQ,EACR,YAAY,EACb;;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACxD,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,yCAAyC;YACzC,MAAM;sDAAY;oBAChB,MAAM,WAAW,aAAa,OAAO,CAAC;oBACtC,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,MAAM,OAAO,aAAa,OAAO,CAAC;oBAElC,IAAI,YAAY,SAAS,MAAM;wBAC7B,IAAI;4BACF,MAAM,WAAW,KAAK,KAAK,CAAC;4BAC5B,YAAY,SAAS,IAAI,IAAI;4BAC7B,mBAAmB;wBACrB,EAAE,OAAO,OAAO;4BACd,QAAQ,KAAK,CAAC,4BAA4B;4BAC1C,qCAAqC;4BACrC,IAAI,MAAM;gCACR,YAAY;gCACZ,mBAAmB;4BACrB,OAAO;gCACL,mBAAmB;4BACrB;wBACF;oBACF,OAAO;wBACL,mBAAmB;oBACrB;oBAEA,aAAa;gBACf;;YAEA;QACF;mCAAG,EAAE;IAEL,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,kCAAkC;YAClC,IAAI,CAAC,WAAW;gBACd,0CAA0C;gBAC1C,IAAI,CAAC,iBAAiB;oBACpB,OAAO,IAAI,CAAC;gBACd,OAEK,IAAI,CAAC,YAAY,eAAe;oBACnC,OAAO,IAAI,CAAC;gBACd;YACF;QACF;mCAAG;QAAC;QAAW;QAAiB;QAAc;KAAO;IAErD,8DAA8D;IAC9D,MAAM,cAAc,CAAC;QACnB,IAAI,CAAC,UAAU,OAAO;QACtB,OAAO,aAAa,IAAI,CAAC,CAAA,OACvB,SAAS,WAAW,OAAO,KAAK,WAAW;IAE/C;IAEA,mDAAmD;IACnD,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,gEAAgE;IAChE,IAAI,CAAC,mBAAmB,CAAC,YAAY,eAAe;QAClD,OAAO;IACT;IAEA,mDAAmD;IACnD,qBAAO;kBAAG;;AACZ;GA/EM;;QAOW,qIAAA,CAAA,YAAS;;;KAPpB;uCAiFS","debugId":null}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file://D%3A/JewelleryWEBApp/front_end/src/app/DashView/layout.tsx"],"sourcesContent":["'use client';\n\nimport Menu from \"@/components/Menu\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport LanguageSelector from \"@/components/LanguageSelector\";\nimport TranslationProvider from \"@/components/TranslationProvider\";\nimport TranslatedText from \"@/components/TranslatedText\";\nimport ProtectedRoute from \"@/components/ProtectedRoute\";\nimport { useEffect, useState } from \"react\";\n\nexport default function DashboardLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  // All possible roles that can access the dashboard\n  const allRoles = [\"Admin\", \"Store Manager\", \"Sales Associate\", \"Cashier\"];\n\n  return (\n    <ProtectedRoute allowedRoles={allRoles}>\n      <TranslationProvider>\n        <div className=\"h-screen flex bg-white\">\n        {/* LEFT - Scrollable Menu */}\n        <div className=\"w-[14%] md:w-[8%] lg:w-[16%] xl:w-[20%] p-4 bg-[#FFE569] h-screen overflow-y-auto\">\n          <Link\n            href=\"/\"\n            className=\"flex items-center justify-center lg:justify-start gap-2\"\n          >\n            <Image src=\"/logo.png\" alt=\"logo\" width={32} height={80} />\n            <span className=\"hidden lg:block font-bold text-black\">\n              <TranslatedText textKey=\"app.name\" fallback=\"S Lanka Jewellery\" />\n            </span>\n          </Link>\n          <Menu />\n        </div>\n\n        {/* RIGHT - Main Content */}\n        <div className=\"w-[86%] md:w-[92%] lg:w-[84%] xl:w-[80%] bg-white overflow-y-auto flex flex-col p-6\">\n          <div className=\"flex justify-between mb-4\">\n            <UserInfo />\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-gray-600\">\n                <TranslatedText textKey=\"language\" fallback=\"Language\" />:\n              </span>\n              <LanguageSelector />\n            </div>\n          </div>\n          {children}\n        </div>\n        </div>\n      </TranslationProvider>\n    </ProtectedRoute>\n  );\n}\n\n// Component to display user info\nfunction UserInfo() {\n  const [user, setUser] = useState<any>(null);\n  const [showDropdown, setShowDropdown] = useState(false);\n\n  useEffect(() => {\n    // Get user from localStorage\n    const userStr = localStorage.getItem('userInfo');\n    if (userStr) {\n      try {\n        const userData = JSON.parse(userStr);\n        setUser(userData);\n      } catch (error) {\n        console.error('Error parsing user data:', error);\n      }\n    }\n  }, []);\n\n  const logout = () => {\n    // Clear all auth data\n    localStorage.removeItem('userInfo');\n    localStorage.removeItem('token');\n    localStorage.removeItem('role');\n    localStorage.removeItem('userName');\n    localStorage.removeItem('userId');\n    localStorage.removeItem('branchName');\n    localStorage.removeItem('branchId');\n\n    // Redirect to login\n    window.location.href = '/login';\n  };\n\n  if (!user) return null;\n\n  return (\n    <div className=\"relative\">\n      <div\n        className=\"flex items-center gap-2 cursor-pointer\"\n        onClick={() => setShowDropdown(!showDropdown)}\n      >\n        <div className=\"w-8 h-8 rounded-full bg-yellow-400 flex items-center justify-center text-black font-bold\">\n          {user.userName ? user.userName.charAt(0).toUpperCase() : 'U'}\n        </div>\n        <div>\n          <div className=\"text-sm font-medium\">{user.userName || 'User'}</div>\n          <div className=\"text-xs text-gray-500\">{user.role}</div>\n        </div>\n      </div>\n\n      {showDropdown && (\n        <div className=\"absolute top-full right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10\">\n          <div className=\"py-1\">\n            <Link\n              href=\"/profile\"\n              className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n              onClick={() => setShowDropdown(false)}\n            >\n              Profile\n            </Link>\n            <button\n              onClick={() => {\n                logout();\n                setShowDropdown(false);\n              }}\n              className=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\"\n            >\n              Logout\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAWe,SAAS,gBAAgB,EACtC,QAAQ,EAGR;IACA,mDAAmD;IACnD,MAAM,WAAW;QAAC;QAAS;QAAiB;QAAmB;KAAU;IAEzE,qBACE,6LAAC,uIAAA,CAAA,UAAc;QAAC,cAAc;kBAC5B,cAAA,6LAAC,4IAAA,CAAA,UAAmB;sBAClB,cAAA,6LAAC;gBAAI,WAAU;;kCAEf,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,6LAAC,gIAAA,CAAA,UAAK;wCAAC,KAAI;wCAAY,KAAI;wCAAO,OAAO;wCAAI,QAAQ;;;;;;kDACrD,6LAAC;wCAAK,WAAU;kDACd,cAAA,6LAAC,uIAAA,CAAA,UAAc;4CAAC,SAAQ;4CAAW,UAAS;;;;;;;;;;;;;;;;;0CAGhD,6LAAC,6HAAA,CAAA,UAAI;;;;;;;;;;;kCAIP,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;;;;kDACD,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;;kEACd,6LAAC,uIAAA,CAAA,UAAc;wDAAC,SAAQ;wDAAW,UAAS;;;;;;oDAAa;;;;;;;0DAE3D,6LAAC,yIAAA,CAAA,UAAgB;;;;;;;;;;;;;;;;;4BAGpB;;;;;;;;;;;;;;;;;;;;;;;AAMX;KA3CwB;AA6CxB,iCAAiC;AACjC,SAAS;;IACP,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAO;IACtC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR,6BAA6B;YAC7B,MAAM,UAAU,aAAa,OAAO,CAAC;YACrC,IAAI,SAAS;gBACX,IAAI;oBACF,MAAM,WAAW,KAAK,KAAK,CAAC;oBAC5B,QAAQ;gBACV,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,4BAA4B;gBAC5C;YACF;QACF;6BAAG,EAAE;IAEL,MAAM,SAAS;QACb,sBAAsB;QACtB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QAExB,oBAAoB;QACpB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,gBAAgB,CAAC;;kCAEhC,6LAAC;wBAAI,WAAU;kCACZ,KAAK,QAAQ,GAAG,KAAK,QAAQ,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK;;;;;;kCAE3D,6LAAC;;0CACC,6LAAC;gCAAI,WAAU;0CAAuB,KAAK,QAAQ,IAAI;;;;;;0CACvD,6LAAC;gCAAI,WAAU;0CAAyB,KAAK,IAAI;;;;;;;;;;;;;;;;;;YAIpD,8BACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,+JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,gBAAgB;sCAChC;;;;;;sCAGD,6LAAC;4BACC,SAAS;gCACP;gCACA,gBAAgB;4BAClB;4BACA,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAxES;MAAA","debugId":null}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}